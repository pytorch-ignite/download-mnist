name: 'Download MNIST GitHub Action'
description: 'http://yann.lecun.com/exdb/mnist Dataset Mirror'

inputs:
  target_dir:
    description: 'Target dir. Defaults: .'
    required: true
    default: '.'

runs:
  using: 'composite'
  steps:
    - run: echo "INPUT_TARGET_DIR=${{ inputs.target_dir }}" >> $GITHUB_ENV
      shell: bash
    - run: pip3 install "torchvision==0.9"
      shell: bash
    - run: python3 ${GITHUB_ACTION_PATH}/run.py
      shell: bash
